# CDSAgent 0.1.0 (MVP) – Planning Backlog

All ten PRDs in `spacs/prd/0.1.0-MVP-PRDs-v0/` are now stable. This backlog maps each document to concrete work streams and identifies the issues/sub-issues that should be opened under `spacs/issues/04-0.1.0-mvp/` during DEV Cooking. Use this as the source of truth when breaking work into tasks in `spacs/tasks/`.

## Milestone framing

- **Goal**: ship CDSAgent 0.1.0 with Python-only graph indexing, JSON-RPC service, CLI tools, and Claude-agent orchestration.
- **Out of scope / roadmap**: incremental graph updates, MCP-native tool wrappers, multi-language parsing (tracked for 0.2.0), workspace/LanceDB exploration.

## Work streams derived from PRDs

| PRD | Focus | Suggested Issue skeleton (`spacs/issues/04-0.1.0-mvp/…`) | Key dependencies |
|-----|-------|-----------------------------------------------------------|------------------|
| 01 System Architecture | Finalize diagrams, architecture narrative, ensure roadmap comms | `01-architecture-and-roadmap.md` | Collect inputs from all other streams |
| 02 CDS-Index Service | Rust crates (`cds_graph`, `cds_sparse_index`, `cds_traversal`, `cds_storage`, `cds_service`), JSON-RPC daemon, serialization schema | `02-index-core/` with sub-issues `graph-build`, `sparse-index`, `service-layer`, `serialization-fixtures` | Needs tree-sitter bindings + benchmarking data |
| 03 CDS-Tools CLI | CLI commands (`search`, `traverse`, `retrieve`, developer-only `combo`), output formats, piping UX, config file | `03-cli-tools/` sub-issues `command-impl`, `output-format`, `integration-tests`, `docs` | Depends on Index crates (read-only) |
| 04 CDS-Agent Integration | Claude SDK integration, bash hook pipeline, system prompt, Pre/Post/Subagent hooks | `04-agent-integration/` sub-issues `sdk-bootstrap`, `prompt-design`, `hooks`, `sample-transcripts` | Uses CLI + JSON-RPC; coordinate with deployment |
| 05 API Specifications | JSON-RPC schemas, error handling, TypeScript bindings | `05-api-contracts.md` (document-driven) | Ties into service layer + agent client |
| 06 Rust Refactoring Plan | Module parity checks vs LocAgent, tree-sitter porting checklist | `06-refactor-parity.md` | Shared with 02/03 streams |
| 07 Deployment & Operations | Daemon packaging, config, systemd/docker templates, env var defaults | `07-deployment/` sub-issues `local-daemon`, `container`, `docs` | Depends on service layer completion |
| 08 Testing & Quality | Unit, integration, e2e, benchmarks; SWE-bench Lite harness | `08-testing/` sub-issues `unit`, `integration`, `perf`, `benchmark` | Requires artifacts from 02–04 |
| 09 Implementation Roadmap | Track milestone phases, exit criteria | `09-roadmap.md` | Synthesis across all work |
| 10 Extensibility & Future | Document follow-on backlog (multi-SDK, multi-language, LanceDB eval) | `10-extensibility.md` | Feeds into 0.2.0 planning |

## Dependency highlights

- Complete `cds_graph` parsing before CLI and agent work begin.
- JSON-RPC daemon must stabilize prior to agent integration (hooks reference `CDS_INDEX_URL`).
- Testing harness should start once CLI + service reach feature parity; budget time for SWE-bench datasets.
- Deployment tasks depend on service/CLI packaging decisions (binary layout, config).

## 0.2.0 early backlog (track via Issue-02 TODOs)

- Graph index update triggers & incremental rebuild support.
- MCP tool wrappers + `allowedTools` expansion in agent runtime.
- Multi-language parsers (TypeScript/JS, Rust) + Go follow-up.
- Evaluate LanceDB (or alternative) for unified workspace storage.

## Next steps for DEV Cooking

1. Under `spacs/issues/04-0.1.0-mvp/`, create the skeleton issues/sub-issues listed above.
2. For each issue, add acceptance criteria extracted from the corresponding PRD sections.
3. Mirror the structure in `spacs/tasks/0.1.0-mvp/` once task breakdown begins (one directory per issue grouping). Attach references back to PRDs in each task description.
4. Maintain status in `spacs/plan/` by updating this backlog or adding burn-down notes as the milestone progresses.
